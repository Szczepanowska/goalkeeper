<div class="container">
  <h1><%= @goal.name %></h1>
  <h2><%= @goal.description %></h2>
  <p>Category: <%= @goal.category %></p>
  <p>Progress: <%= @goal.status %></p>
  <%= @goal.start_date %>
  <%= @goal.end_date %>
  <ul class="tasksgrid">
    <% @goal.tasks.each do |task| %>
    <li class="tasks">
      <p><%= task.name %></p>
      <p><%= task.status %></p>
      <% if policy(@goal).destroy? %>
        <%= link_to "Delete", goal_task_path(task), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, :class => "btn btn-danger mr-3" %>
      <% end %>
    </li>
    <% end %>
  </ul>
  <br><br>
  <% if policy(@task).create? %>
    <%= link_to "Add Task", new_goal_task_path(@goal), class: "btn btn-primary" %>
  <% end %>
  <br><br>
  <% if policy(@goal).edit? %>
    <%= link_to "Edit Goal", edit_goal_path(@goal), class: "btn btn-secondary" %>
  <% end %>
  <br><br>
  <% if policy(@goal).destroy? %>
    <%= link_to "Delete", goal_path(@goal), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}, :class => "btn btn-danger mr-3" %>
  <% end %>
  <br><br>
  <%= link_to "back", :back, class: "btn btn-primary" %>
</div>
